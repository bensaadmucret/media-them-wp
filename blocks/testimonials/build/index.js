(()=>{"use strict";var e,t={886:()=>{const e=window.wp.blocks,t=window.wp.element,i=window.wp.blockEditor,s=window.wp.components,a=window.ReactJSXRuntime;(0,e.registerBlockType)("lejournaldesactus/testimonials",{title:"Témoignages",icon:"format-quote",category:"widgets",attributes:{testimonials:{type:"array",default:[],source:"query",selector:".testimonial-item",query:{name:{type:"string",source:"text",selector:".testimonial-name"},role:{type:"string",source:"text",selector:".testimonial-role"},text:{type:"string",source:"text",selector:".testimonial-text"},image:{type:"string",source:"attribute",selector:".testimonial-img",attribute:"src"}}}},edit:function({attributes:e,setAttributes:o}){const{testimonials:n=[]}=e,l=(e,t,i)=>{const s=[...n];s[e]={...s[e],[t]:i},o({testimonials:s})};return(0,a.jsxs)("div",{className:"wp-block-lejournaldesactus-testimonials",children:[n.map(((e,r)=>(0,a.jsxs)("div",{className:"testimonial-item",children:[(0,a.jsx)("div",{className:"testimonial-img-wrap",children:(0,a.jsx)(i.MediaUploadCheck,{children:(0,a.jsx)(i.MediaUpload,{onSelect:e=>l(r,"image",e.url),allowedTypes:["image"],value:e.image,render:({open:i})=>e.image?(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)("img",{className:"testimonial-img",src:e.image,alt:""}),(0,a.jsx)(s.IconButton,{icon:"no-alt",label:"Supprimer",onClick:()=>l(r,"image","")})]}):(0,a.jsx)(s.Button,{onClick:i,icon:"format-image",label:"Ajouter une photo",children:"Ajouter une photo"})})})}),(0,a.jsx)(i.PlainText,{className:"testimonial-name",placeholder:"Nom",value:e.name,onChange:e=>l(r,"name",e)}),(0,a.jsx)(i.PlainText,{className:"testimonial-role",placeholder:"Fonction (optionnelle)",value:e.role,onChange:e=>l(r,"role",e)}),(0,a.jsx)(i.RichText,{className:"testimonial-text",tagName:"blockquote",placeholder:"Témoignage...",value:e.text,onChange:e=>l(r,"text",e)}),(0,a.jsx)(s.IconButton,{icon:"trash",label:"Supprimer ce témoignage",onClick:()=>(e=>{const t=n.filter(((t,i)=>i!==e));o({testimonials:t})})(r)})]},r))),(0,a.jsx)(s.Button,{isPrimary:!0,onClick:()=>{o({testimonials:[...n,{name:"",role:"",text:"",image:""}]})},icon:"plus",children:"Ajouter un témoignage"})]})},save:function({attributes:e}){const{testimonials:t=[]}=e;return(0,a.jsx)("div",{className:"wp-block-lejournaldesactus-testimonials",children:t.map(((e,t)=>(0,a.jsxs)("div",{className:"testimonial-item",children:[e.image&&(0,a.jsx)("img",{className:"testimonial-img",src:e.image,alt:""}),(0,a.jsxs)("div",{className:"testimonial-content",children:[(0,a.jsx)("span",{className:"testimonial-name",children:e.name}),e.role&&(0,a.jsx)("span",{className:"testimonial-role",children:e.role}),(0,a.jsx)("blockquote",{className:"testimonial-text",children:e.text})]})]},t)))})}})}},i={};function s(e){var a=i[e];if(void 0!==a)return a.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,i,a,o)=>{if(!i){var n=1/0;for(m=0;m<e.length;m++){for(var[i,a,o]=e[m],l=!0,r=0;r<i.length;r++)(!1&o||n>=o)&&Object.keys(s.O).every((e=>s.O[e](i[r])))?i.splice(r--,1):(l=!1,o<n&&(n=o));if(l){e.splice(m--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[i,a,o]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};s.O.j=t=>0===e[t];var t=(t,i)=>{var a,o,[n,l,r]=i,c=0;if(n.some((t=>0!==e[t]))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(r)var m=r(s)}for(t&&t(i);c<n.length;c++)o=n[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(m)},i=globalThis.webpackChunk=globalThis.webpackChunk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var a=s.O(void 0,[350],(()=>s(886)));a=s.O(a)})();