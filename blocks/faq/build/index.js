(()=>{"use strict";var e,a={948:()=>{const e=window.wp.blocks,a=window.wp.element,s=window.wp.blockEditor,t=window.wp.components,i=window.ReactJSXRuntime;(0,e.registerBlockType)("lejournaldesactus/faq",{title:"FAQ (AccordÃ©on)",icon:"editor-help",category:"widgets",attributes:{faqs:{type:"array",default:[],source:"query",selector:".faq-item",query:{question:{type:"string",source:"text",selector:".faq-question"}}}},edit:function({attributes:e,setAttributes:r}){const{faqs:o=[]}=e,n=(e,a,s)=>{const t=[...o];t[e]={...t[e],[a]:s},r({faqs:t})};return(0,i.jsxs)("div",{className:"wp-block-lejournaldesactus-faq",children:[o.map(((e,l)=>(0,i.jsxs)("div",{className:"faq-item",children:[(0,i.jsx)(s.RichText,{tagName:"div",className:"faq-question",placeholder:"Question...",value:e.question,onChange:e=>n(l,"question",e),allowedFormats:[]}),(0,i.jsx)("div",{className:"faq-image-wrap",children:(0,i.jsx)(s.MediaUploadCheck,{children:(0,i.jsx)(s.MediaUpload,{onSelect:e=>n(l,"image",e.url),allowedTypes:["image"],value:e.image,render:({open:s})=>e.image?(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("img",{className:"faq-image",src:e.image,alt:"",style:{maxWidth:"120px",maxHeight:"120px",marginBottom:"0.5rem"}}),(0,i.jsx)(t.IconButton,{icon:"no-alt",label:"Supprimer l'image",onClick:()=>n(l,"image","")})]}):(0,i.jsx)(t.Button,{onClick:s,icon:"format-image",label:"Ajouter une image",children:"Ajouter une image"})})})}),(0,i.jsx)("div",{className:"faq-answer-content",children:(0,i.jsx)(s.InnerBlocks,{allowedBlocks:["core/paragraph","core/image","core/gallery","core/list","core/video"],templateLock:!1})}),(0,i.jsx)(t.IconButton,{icon:"trash",label:"Supprimer cette question",onClick:()=>(e=>{const a=o.filter(((a,s)=>s!==e));r({faqs:a})})(l)})]},l))),(0,i.jsx)(t.Button,{isPrimary:!0,onClick:()=>{r({faqs:[...o,{question:"",image:""}]})},icon:"plus",children:"Ajouter une question"})]})},save:function({attributes:e}){const{faqs:a=[]}=e;return(0,i.jsx)("div",{className:"wp-block-lejournaldesactus-faq",children:a.map(((e,a)=>(0,i.jsxs)("div",{className:"faq-item",children:[(0,i.jsx)("button",{className:"faq-question",type:"button","aria-expanded":"false","aria-controls":`faq-answer-${a}`,children:e.question}),(0,i.jsxs)("div",{className:"faq-answer",id:`faq-answer-${a}`,hidden:!0,children:[e.image&&(0,i.jsx)("img",{className:"faq-image",src:e.image,alt:"",style:{maxWidth:"120px",maxHeight:"120px",marginBottom:"0.5rem"}}),(0,i.jsx)("div",{className:"faq-answer-content",children:(0,i.jsx)(s.InnerBlocks.Content,{})})]})]},a)))})}})}},s={};function t(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}};return a[e](r,r.exports,t),r.exports}t.m=a,e=[],t.O=(a,s,i,r)=>{if(!s){var o=1/0;for(u=0;u<e.length;u++){for(var[s,i,r]=e[u],n=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(t.O).every((e=>t.O[e](s[l])))?s.splice(l--,1):(n=!1,r<o&&(o=r));if(n){e.splice(u--,1);var c=i();void 0!==c&&(a=c)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,i,r]},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var i,r,[o,n,l]=s,c=0;if(o.some((a=>0!==e[a]))){for(i in n)t.o(n,i)&&(t.m[i]=n[i]);if(l)var u=l(t)}for(a&&a(s);c<o.length;c++)r=o[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},s=globalThis.webpackChunk=globalThis.webpackChunk||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var i=t.O(void 0,[350],(()=>t(948)));i=t.O(i)})();